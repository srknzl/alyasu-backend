{"version":3,"sources":["webpack:///./src/views/EditBlog.vue?f1fe","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///src/views/EditBlog.vue","webpack:///./src/views/EditBlog.vue?f2fb","webpack:///./src/views/EditBlog.vue","webpack:///./src/views/EditBlog.vue?f340"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_e","fetchLoading","staticStyle","oldImage","ref","on","$event","stopPropagation","preventDefault","handleSubmit","titleState","model","value","callback","$$v","title","expression","content","options","processEditOperation","coverImageState","coverImageUrl","keywords","onSubmit","editLoading","_v","staticRenderFns","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","data","buttonLabels","toolbar","buttons","extensions","table","MediumEditorTable","placeholder","components","computed","length","created","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,aAAa,CAACF,EAAG,cAAc,CAACA,EAAG,QAAQ,CAAEJ,EAAgB,aAAEI,EAAG,QAAQ,CAACG,YAAY,gEAAgE,CAACH,EAAG,YAAY,CAACE,MAAM,CAAC,QAAU,cAAc,GAAGN,EAAIQ,KAAOR,EAAIS,aAAysET,EAAIQ,KAA/rEJ,EAAG,QAAQ,CAACG,YAAY,gEAAgE,CAACH,EAAG,SAAS,CAACG,YAAY,OAAOG,YAAY,CAAC,YAAY,QAAQ,MAAQ,QAAQJ,MAAM,CAAC,UAAU,QAAQ,UAAUN,EAAIW,SAAS,IAAM,YAAY,CAACP,EAAG,OAAO,CAACQ,IAAI,OAAOC,GAAG,CAAC,OAAS,SAASC,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBhB,EAAIiB,aAAaH,MAAW,CAACV,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIkB,WAAW,MAAQ,WAAW,YAAY,aAAa,mBAAmB,+BAA+B,CAACd,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,aAAa,MAAQN,EAAIkB,WAAW,SAAW,IAAIC,MAAM,CAACC,MAAOpB,EAAS,MAAEqB,SAAS,SAAUC,GAAMtB,EAAIuB,MAAMD,GAAKE,WAAW,YAAY,GAAGpB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,WAAW,YAAY,kBAAkB,CAACF,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAON,EAAIyB,QAAQ,QAAUzB,EAAI0B,QAAQ,aAAa,OAAOb,GAAG,CAAC,KAAOb,EAAI2B,yBAAyB,GAAGvB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAI4B,gBAAgB,MAAQ,sDAAsD,YAAY,sBAAsB,CAACxB,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,oBAAoB,OAAS,UAAU,cAAc,iBAAiB,YAAc,+BAA+B,mBAAmB,YAAYa,MAAM,CAACC,MAAOpB,EAAiB,cAAEqB,SAAS,SAAUC,GAAMtB,EAAI6B,cAAcP,GAAKE,WAAW,oBAAoB,GAAGpB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,uCAAuC,YAAY,iBAAiB,mBAAmB,0DAA0D,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,iBAAiB,YAAY,GAAG,cAAc,UAAU,mBAAmB,GAAG,UAAY,IAAI,qBAAqB,kBAAkB,YAAc,gCAAgCa,MAAM,CAACC,MAAOpB,EAAY,SAAEqB,SAAS,SAAUC,GAAMtB,EAAI8B,SAASR,GAAKE,WAAW,eAAe,IAAI,GAAGpB,EAAG,iBAAiB,CAACA,EAAG,WAAW,CAACG,YAAY,OAAOD,MAAM,CAAC,QAAU,WAAWO,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOE,iBAAwBhB,EAAI+B,SAASjB,MAAW,CAAEd,EAAe,YAAEI,EAAG,YAAY,CAACE,MAAM,CAAC,QAAU,SAAS,MAAQ,MAAMN,EAAIQ,KAAOR,EAAIgC,YAA0ChC,EAAIQ,KAAjCJ,EAAG,OAAO,CAACJ,EAAIiC,GAAG,YAAqB,GAAG7B,EAAG,WAAW,CAACE,MAAM,CAAC,GAAK,QAAQ,QAAU,WAAW,CAACN,EAAIiC,GAAG,eAAe,IAAI,IAAI,IAAa,IAAI,IAAI,IACtiFC,EAAkB,G,UCDP,SAASC,EAAgBC,EAAKC,EAAKjB,GAYhD,OAXIiB,KAAOD,EACTE,OAAOC,eAAeH,EAAKC,EAAK,CAC9BjB,MAAOA,EACPoB,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIC,GAAOjB,EAGNgB,E,sECuET,MACEO,KAAM,WACJ,MAAO,CACLjB,QAAS,CACPkB,aAAc,cACdC,QAAS,CACPC,QAAS,CACnB,KACA,KACA,KACA,SACA,OACA,SACA,gBACA,cACA,UAGQC,WAAY,CACVC,MAAO,IAAIC,mBAEbC,aAAa,GAEfzB,QAAS,GACTK,SAAU,GACVP,MAAO,GACPM,cAAe,KACflB,SAAU,GACVqB,aAAa,EACbvB,cAAc,IAGlB0C,WAAY,CACV,gBAAiB,EAArB,GAEEC,SAAU,CACRlC,WADJ,WAEM,OAAOjB,KAAKsB,MAAM8B,OAAS,IAG/BC,QAxCF,WAwCA,WACIrD,KAAKQ,cAAe,EACpB,EAAJ,EACA,gDACA,kBACM,EAAN,6BACM,EAAN,iCACM,EAAN,wCACM,EAAN,mCACM,EAAN,mBAEA,mBACM,EAAN,oDACM,EAAN,qBArDA,iBAwDA,CACE,gBAAF,MAzDA,cA2DA,CACE,SADF,SACA,GACI,OAAJ,2BACM,IAAN,iBACM,EAAN,iBACM,EAAN,kBAAQ,OAAR,aACM,EAAN,oBAAQ,OAAR,UAGE,qBATF,SASA,GACI,KAAJ,sCAEE,kBAZF,WAaI,IAAJ,kCACI,OAAJ,GAEE,SAhBF,WAgBI,IAAJ,OAAI,OAAJ,eAAI,mBAAJ,6GACA,sBADA,oDAIA,iBACA,sBALA,gBAMA,IACA,+CACA,kBACA,yBACA,cACA,sBAEA,kBACA,iCACA,oBAEA,mBACA,qDACA,oBAnBA,iDAwBA,4BAxBA,QAwBA,EAxBA,mEA0BA,uCACA,iBA3BA,2BA8BA,IACA,+CACA,kBACA,gBACA,cACA,sBAEA,kBACA,iCACA,aACA,oBAEA,mBACA,qDACA,oBA5CA,+DA3EA,GCnFkV,I,wBCQ9U8C,EAAY,eACd,EACAxD,EACAmC,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E,kECnBf,yBAA+c,EAAG","file":"js/chunk-23f73d80.4cf60e3a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editblog\"}},[_c('b-container',[_c('b-row',[(_vm.fetchLoading)?_c('b-col',{staticClass:\"d-flex flex-column align-items-center justify-content-center\"},[_c('b-spinner',{attrs:{\"variant\":\"success\"}})],1):_vm._e(),(!_vm.fetchLoading)?_c('b-col',{staticClass:\"d-flex flex-column align-items-center justify-content-center\"},[_c('b-card',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"40rem\",\"width\":\"100%\"},attrs:{\"img-alt\":\"Resim\",\"img-src\":_vm.oldImage,\"tag\":\"article\"}},[_c('form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('b-form-group',{attrs:{\"state\":_vm.titleState,\"label\":\"Başlık: \",\"label-for\":\"name-input\",\"invalid-feedback\":\"Başlık koymanız gerekiyor.\"}},[_c('b-form-input',{attrs:{\"id\":\"name-input\",\"state\":_vm.titleState,\"required\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('b-form-group',{attrs:{\"label\":\"İçerik: \",\"label-for\":\"content-input\"}},[_c('medium-editor',{attrs:{\"text\":_vm.content,\"options\":_vm.options,\"custom-tag\":\"div\"},on:{\"edit\":_vm.processEditOperation}})],1),_c('b-form-group',{attrs:{\"state\":_vm.coverImageState,\"label\":\"Kapak Resmi:(Değiştirmemek için bir şey seçmeyin.) \",\"label-for\":\"cover-image-input\"}},[_c('b-form-file',{attrs:{\"id\":\"cover-image-input\",\"accept\":\"image/*\",\"browse-text\":\"Resim seçiniz.\",\"placeholder\":\"Resim seçin veya sürekleyin.\",\"drop-placeholder\":\"Bırakın.\"},model:{value:(_vm.coverImageUrl),callback:function ($$v) {_vm.coverImageUrl=$$v},expression:\"coverImageUrl\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Anahtar Kelimeler(5 tane idealdir): \",\"label-for\":\"keywords-input\",\"invalid-feedback\":\"Anahtar kelimeleri virgülle ayrılmış şekilde giriniz.\"}},[_c('b-form-tags',{attrs:{\"id\":\"keywords-input\",\"tag-pills\":\"\",\"tag-variant\":\"primary\",\"remove-on-delete\":\"\",\"separator\":\",\",\"duplicate-tag-text\":\"Aynı kelime var\",\"placeholder\":\"Enter veya virgülle ekleyin.\"},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}})],1)],1),_c('b-button-group',[_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"success\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[(_vm.editLoading)?_c('b-spinner',{attrs:{\"variant\":\"danger\",\"small\":\"\"}}):_vm._e(),(!_vm.editLoading)?_c('span',[_vm._v(\"Tamam\")]):_vm._e()],1),_c('b-button',{attrs:{\"to\":\"/blog\",\"variant\":\"danger\"}},[_vm._v(\"Geri dön\")])],1)],1)],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","<template>\n  <div id=\"editblog\">\n    <b-container>\n      <b-row>\n        <b-col\n          class=\"d-flex flex-column align-items-center justify-content-center\"\n          v-if=\"fetchLoading\"\n        >\n          <b-spinner variant=\"success\"></b-spinner>\n        </b-col>\n        <b-col  v-if=\"!fetchLoading\" class=\"d-flex flex-column align-items-center justify-content-center\">\n          <b-card\n            img-alt=\"Resim\"\n            :img-src=\"oldImage\"\n            tag=\"article\"\n            class=\"mb-2\"\n            style=\"max-width: 40rem; width:100%;\"\n          >\n            <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\n              <b-form-group\n                :state=\"titleState\"\n                label=\"Başlık: \"\n                label-for=\"name-input\"\n                invalid-feedback=\"Başlık koymanız gerekiyor.\"\n              >\n                <b-form-input id=\"name-input\" v-model=\"title\" :state=\"titleState\" required></b-form-input>\n              </b-form-group>\n              <b-form-group label=\"İçerik: \" label-for=\"content-input\">\n                <medium-editor\n                  :text=\"content\"\n                  :options=\"options\"\n                  v-on:edit=\"processEditOperation\"\n                  custom-tag=\"div\"\n                />\n              </b-form-group>\n              <b-form-group\n                :state=\"coverImageState\"\n                label=\"Kapak Resmi:(Değiştirmemek için bir şey seçmeyin.) \"\n                label-for=\"cover-image-input\"\n              >\n                <b-form-file\n                  id=\"cover-image-input\"\n                  accept=\"image/*\"\n                  browse-text=\"Resim seçiniz.\"\n                  placeholder=\"Resim seçin veya sürekleyin.\"\n                  drop-placeholder=\"Bırakın.\"\n                  v-model=\"coverImageUrl\"\n                ></b-form-file>\n              </b-form-group>\n              <b-form-group\n                label=\"Anahtar Kelimeler(5 tane idealdir): \"\n                label-for=\"keywords-input\"\n                invalid-feedback=\"Anahtar kelimeleri virgülle ayrılmış şekilde giriniz.\"\n              >\n                <b-form-tags\n                  id=\"keywords-input\"\n                  tag-pills\n                  tag-variant=\"primary\"\n                  remove-on-delete\n                  separator=\",\"\n                  duplicate-tag-text=\"Aynı kelime var\"\n                  placeholder=\"Enter veya virgülle ekleyin.\"\n                  v-model=\"keywords\"\n                ></b-form-tags>\n              </b-form-group>\n            </form>\n            <b-button-group>\n              <b-button class=\"mr-2\" @click.prevent=\"onSubmit\" variant=\"success\">\n                <b-spinner variant=\"danger\" v-if=\"editLoading\" small></b-spinner>\n                <span v-if=\"!editLoading\">Tamam</span>\n              </b-button>\n              <b-button to=\"/blog\" variant=\"danger\">Geri dön</b-button>\n            </b-button-group>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport editor from \"vue2-medium-editor\";\nexport default {\n  data: function() {\n    return {\n      options: {\n        buttonLabels: \"fontawesome\",\n        toolbar: {\n          buttons: [\n            \"h1\",\n            \"h2\",\n            \"h3\",\n            \"anchor\",\n            \"bold\",\n            \"italic\",\n            \"unorderedlist\",\n            \"orderedlist\",\n            \"table\"\n          ]\n        },\n        extensions: {\n          table: new MediumEditorTable()\n        },\n        placeholder: false\n      },\n      content: \"\",\n      keywords: [],\n      title: \"\",\n      coverImageUrl: null,\n      oldImage: \"\",\n      editLoading: false,\n      fetchLoading: false\n    };\n  },\n  components: {\n    \"medium-editor\": editor\n  },\n  computed: {\n    titleState() {\n      return this.title.length > 0;\n    }\n  },\n  created() {\n    this.fetchLoading = true;\n    axios\n      .get(\"/blog/blogEntries/\" + this.$route.params.id)\n      .then(res => {\n        this.title = res.data.blogEntry.title;\n        this.content = res.data.blogEntry.content;\n        this.oldImage = res.data.blogEntry.coverImageUrl;\n        this.keywords = res.data.blogEntry.keywords;\n        this.fetchLoading = false;\n      })\n      .catch(err => {\n        this.$bvToast.toast(\"Bir hata oldu: \" + JSON.stringify(err));\n        this.fetchLoading = false;\n      });\n  },\n  components: {\n    \"medium-editor\": editor\n  },\n  methods: {\n    toBase64(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = error => reject(error);\n      });\n    },\n    processEditOperation(operation) {\n      this.content = operation.api.origElements.innerHTML;\n    },\n    checkFormValidity() {\n      const valid = this.$refs.form.checkValidity();\n      return valid;\n    },\n    async onSubmit() {\n      if (!this.checkFormValidity()) {\n        return;\n      }\n      this.editLoading = true;\n      if (this.coverImageUrl == null) {\n        axios\n          .put(\"/blog/editBlogEntry/\" + this.$route.params.id, {\n            content: this.content,\n            coverImageUrl: this.oldImage,\n            title: this.title,\n            keywords: this.keywords\n          })\n          .then(res => {\n            this.$bvToast.toast(res.data.message);\n            this.editLoading = false;\n          })\n          .catch(err => {\n            this.$bvToast.toast(\"Bir hata var. \" + JSON.stringify(err));\n            this.editLoading = false;\n          });\n      } else {\n        let coverImageBase64;\n        try {\n          coverImageBase64 = await this.toBase64(this.coverImageUrl);\n        } catch (error) {\n          this.$bvToast.toast(\"Bir hata var \" + error);\n          this.editLoading = false;\n          return;\n        }\n        axios\n          .put(\"/blog/editBlogEntry/\" + this.$route.params.id, {\n            content: this.content,\n            coverImageUrl: coverImageBase64,\n            title: this.title,\n            keywords: this.keywords\n          })\n          .then(res => {\n            this.$bvToast.toast(res.data.message);\n            this.oldImage = coverImageBase64;\n            this.editLoading = false;\n          })\n          .catch(err => {\n            this.$bvToast.toast(\"Bir hata var. \" + JSON.stringify(err));\n            this.editLoading = false;\n          });\n      }\n    }\n  }\n};\n</script>\n\n<style>\n#editblog {\n  padding: 30px;\n  width: 90%;\n}\nimg {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBlog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBlog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditBlog.vue?vue&type=template&id=58e1d7d6&\"\nimport script from \"./EditBlog.vue?vue&type=script&lang=js&\"\nexport * from \"./EditBlog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditBlog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBlog.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBlog.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}