(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-559d6362"],{"9d5a":function(t,e,a){"use strict";var n=a("b198"),r=a.n(n);r.a},b198:function(t,e,a){},fd3f:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"blog"}},[a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"2"}},[a("b-button-group",{attrs:{vertical:""}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.blog-modal",modifiers:{"blog-modal":!0}}],attrs:{variant:"success"},on:{click:t.resetData}},[t._v("Yeni Yazı")]),t.newBlogLoading?a("b-spinner",{staticClass:"mt-2",attrs:{variant:"warning"}}):t._e(),a("b-modal",{attrs:{size:"xl",id:"blog-modal","ok-variant":"success","cancel-variant":"danger","ok-title":"Tamam","cancel-title":"İptal",title:"Yeni Blog Ekle!"},on:{ok:t.handleOk}},[a("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(e)}}},[a("b-form-group",{attrs:{state:t.titleState,label:"Başlık: ","label-for":"name-input","invalid-feedback":"Başlık koymanız gerekiyor."}},[a("b-form-input",{attrs:{id:"name-input",state:t.titleState,required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("b-form-group",{attrs:{label:"İçerik: ","label-for":"content-input"}},[a("medium-editor",{attrs:{text:t.content,options:t.options,"custom-tag":"div"},on:{edit:t.processEditOperation}})],1),a("b-form-group",{attrs:{state:t.coverImageState,label:"Kapak Resmi: ","label-for":"cover-image-input","invalid-feedback":"Kapak resmi girmeniz gerekiyor."}},[a("b-form-file",{attrs:{id:"cover-image-input",accept:"image/*","browse-text":"Resim seçiniz.",placeholder:"Resim seçin veya sürekleyin.","drop-placeholder":"Bırakın.",state:t.coverImageState,required:""},model:{value:t.coverImageUrl,callback:function(e){t.coverImageUrl=e},expression:"coverImageUrl"}})],1),a("b-form-group",{attrs:{label:"Anahtar Kelimeler(5 tane idealdir): ","label-for":"keywords-input","invalid-feedback":"Anahtar kelimeleri virgülle ayrılmış şekilde giriniz."}},[a("b-form-tags",{attrs:{id:"keywords-input","tag-pills":"","tag-variant":"primary","remove-on-delete":"",separator:",","duplicate-tag-text":"Aynı kelime var",placeholder:"Enter veya virgülle ekleyin."},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1)],1)])],1)],1),t.blogsLoading?a("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center",attrs:{cols:"10"}},[a("b-spinner",{attrs:{variant:"success"}})],1):t._e(),t.blogsLoading?t._e():a("b-col",{staticClass:"d-flex flex-column align-items-center justify-content-center",attrs:{cols:"10"}},t._l(t.blogEntries,(function(e){return a("b-card",{key:e._id,staticClass:"mb-2",staticStyle:{"max-width":"40rem",width:"75%"},attrs:{id:"blog"+e._id.toString(),title:e.title,"img-src":e.coverImageUrl,"img-top":"",tag:"article"},scopedSlots:t._u([{key:"footer",fn:function(){return[a("b-card-text",[t._v("Anahtar Kelimeler:")]),t._l(e.keywords,(function(e){return a("span",{key:e,staticStyle:{"font-style":"italic"}},[t._v(t._s(e))])}))]},proxy:!0}],null,!0)},[a("span",{domProps:{innerHTML:t._s(e.content)}}),a("b-button-group",[a("b-button",{staticClass:"mr-2",attrs:{to:"/blog/"+e._id,variant:"primary"}},[t._v("Dahasını Oku")]),a("b-button",{staticClass:"mr-2",attrs:{to:"/edit-blog/"+e._id,variant:"success"}},[t._v("Düzenle")]),a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:function(a){return t.onDelete(e._id)}}},[t.deleteLoading?a("b-spinner",{attrs:{variant:"warning",small:""}}):t._e(),t.deleteLoading?t._e():a("span",[t._v("Sil")])],1)],1)],1)})),1)],1)],1)],1)},r=[],o=(a("d3b7"),a("25f0"),a("96cf"),a("1da1")),i=a("bc3a"),l=a.n(i),s=a("4884"),c=a.n(s),d={data:function(){return{blogEntries:[],keywords:[],options:{placeholder:!1,buttonLabels:"fontawesome",toolbar:{buttons:["h1","h2","h3","anchor","bold","italic","unorderedlist","orderedlist","table"]},extensions:{table:new MediumEditorTable}},content:"",title:"",coverImageUrl:null,deleteLoading:!1,blogsLoading:!1,newBlogLoading:!1}},components:{"medium-editor":c.a},computed:{titleState:function(){return this.title.length>0},coverImageState:function(){return null!=this.coverImageUrl}},created:function(){var t=this;this.blogsLoading=!0,l.a.get("/blog/blogEntries").then((function(e){t.blogEntries=e.data.blogEntries,t.blogsLoading=!1})).catch((function(e){t.$bvToast.toast("Bloglar getirilemedi : "+JSON.stringify(e)),t.blogsLoading=!1}))},methods:{toBase64:function(t){return new Promise((function(e,a){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){return e(n.result)},n.onerror=function(t){return a(t)}}))},handleOk:function(t){t.preventDefault(),this.handleSubmit()},checkFormValidity:function(){var t=this.$refs.form.checkValidity();return t},handleSubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.checkFormValidity()){e.next=2;break}return e.abrupt("return");case 2:return t.newBlogLoading=!0,e.prev=3,e.next=6,t.toBase64(t.coverImageUrl);case 6:a=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e["catch"](3),t.$bvToast.toast("Bir hata var "+e.t0),t.newBlogLoading=!1,e.abrupt("return");case 14:l.a.post("/blog/addBlogEntry",{content:t.content,title:t.title,keywords:t.keywords,coverImageUrl:a}).then((function(e){t.$bvToast.toast(e.data.message),t.blogEntries.push({content:t.content,title:t.title,keywords:t.keywords,coverImageUrl:a,_id:e.data._id}),t.newBlogLoading=!1})).catch((function(e){t.$bvToast.toast("Bir hata var. "+JSON.stringify(e)),t.newBlogLoading=!1})),t.$nextTick((function(){t.$bvModal.hide("blog-modal")}));case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))()},processEditOperation:function(t){this.content=t.api.origElements.innerHTML},onDelete:function(t){var e=this;this.deleteLoading=!0,l.a.delete("/blog/deleteBlogEntry/"+t.toString()).then((function(a){e.$bvToast.toast(a.data.message);var n=document.querySelector("#blog"+t.toString());n.parentNode.removeChild(n),e.deleteLoading=!1})).catch((function(t){e.$bvToast.toast("Bir hata var. "+JSON.stringify(t)),e.deleteLoading=!1}))},resetData:function(){this.content="",this.coverImageUrl=null,this.keywords=[],this.title="",console.log(this.$refs.mediumEditor)}}},u=d,g=(a("9d5a"),a("2877")),b=Object(g["a"])(u,n,r,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-559d6362.801ce0cd.js.map